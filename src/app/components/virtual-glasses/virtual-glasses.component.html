<div class="container py-4">
  <div class="tab-content" id="myTabContent">
    <!-- Onglet Caméra -->
    <div class="tab-pane fade show active" id="camera" role="tabpanel">
      <!-- Zone vidéo avec overlay -->
      <div 
        class="position-relative mx-auto mb-4 rounded overflow-hidden shadow video-wrapper"
        style="max-width: 640px;" 
        [hidden]="!(isCameraActive$ | async)"
      >
        <!-- Vidéo live -->
        <video
          #videoElement
          autoplay
          muted
          playsinline
          class="w-100 rounded"
          style="background: #000;"
          
        ></video>
        <!-- Canvas overlay (facial landmarks / fallback) -->
        <canvas 
          #overlayCanvas 
          class="position-absolute top-0 start-0 w-100 h-100"
            style="z-index: 2;"
        ></canvas>
        <div
          #threeContainer
          id="threeContainer"
          class="position-absolute top-0 start-0 w-100 h-100"
          style="pointer-events: none; z-index: 3;"
        ></div>
        <div *ngIf="showGlassList" class="glasses-selection-scroll my-3">
        </div>
      </div>

      <!-- Contrôles -->
      <div class="text-center mb-4">
        <button 
          class="btn btn-primary me-2"
          (click)="toggleCamera()"
        >
          {{ (isCameraActive$ | async) ? 'Désactiver la caméra' : 'Activer la caméra' }}
        </button>

        <button 
          class="btn btn-outline-secondary"
          (click)="onCapturePhoto()"
          [disabled]="!(isCameraActive$ | async)"
        >
          Prendre une photo
        </button>
      </div>

      <!-- Photo capturée -->
      <div *ngIf="capturedPhoto" class="text-center">
        <h5 class="mb-3">Photo capturée</h5>
        <img 
          [src]="capturedPhoto"
          alt="Photo avec lunettes"
          class="img-fluid rounded shadow mb-3"
          style="max-width: 480px;"
        />
        <br />
        <button 
          class="btn btn-success"
          (click)="downloadPhoto()"
        >
          Télécharger la photo
        </button>
      </div>
    </div>
</div>